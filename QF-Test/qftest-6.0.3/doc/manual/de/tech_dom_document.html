<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="version" content="6.0.3">
<link rel="shortcut icon" href="../icons/favicon.ico" type="image/vnd.microsoft.icon">
<title>Die Klasse DocumentNode</title>
<link href="man.css" type="text/css" rel="stylesheet">
<meta name="organisation" content="Quality First Software GmbH">
<meta name="copyright" content="(C) 1999-2022 Quality First Software GmbH">
</head>
<body bgcolor="white">
<a name="sec_dom_documentnode"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviheader">
<tr>
<td class="margin"></td><td class="navicon"><a href="manual.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Inhaltsverzeichnis" title="Inhaltsverzeichnis"></a></td><td class="navicon"><a href="tech_dom_node.html#sec_dom_Node"><img src="../icons/linkprev.png" width="34" height="36" border="0" alt="Vorheriges Kapitel: 50.11.1&nbsp;Die abstrakte Klasse Node" title="Vorheriges Kapitel: 50.11.1&nbsp;Die abstrakte Klasse Node"></a></td><td class="navicon"><a href="tech_dom_frame.html#sec_dom_framenode"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="N&auml;chste Seite: 50.11.3&nbsp;Die Klasse FrameNode" title="N&auml;chste Seite: 50.11.3&nbsp;Die Klasse FrameNode"></a></td><td class="navicon"><a href="tech_dom_frame.html#sec_dom_framenode"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="N&auml;chstes Kapitel: 50.11.3&nbsp;Die Klasse FrameNode" title="N&auml;chstes Kapitel: 50.11.3&nbsp;Die Klasse FrameNode"></a></td><td class="navicon"><a href="tech_domapi.html#sec_domapi"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Kapitel-&Uuml;bersicht: 50.11&nbsp;Pseudo DOM API f&uuml;r Webanwendungen" title="Kapitel-&Uuml;bersicht: 50.11&nbsp;Pseudo DOM API f&uuml;r Webanwendungen"></a></td><td class="navicon"><a href="../../manual_de.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF Version" title="PDF Version"></a></td><td class="homeicon"><a href="http://www.qfs.de/de/qftest/index.html" target="_parent"><img src="../icons/qftest.png" width="127" height="42" border="0" alt="QF-Test" title="QF-Test"></a></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviversion">
<tr>
<td>Version 6.0.3</td>
</tr>
</table>
          
<h5 class="header-container h5">
<div>
<span class="numtitle"><a href="contents.html#toc_sec_dom_documentnode">50.11.2</a></span>
</div>
<a href="contents.html#toc_sec_dom_documentnode">Die Klasse <code class="classdef">DocumentNode</code></a>
</h5>
          
<p>
            
<span class="margin"><a name="web_N183807"></a><span class="note">Web</span></span> Das Wurzel-<code>Document</code> einer Webseite wird nicht durch einen
            'Fenster' Knoten, sondern den speziellen Knoten <a href="components.html#step_WebPageStep" shape="rect">'Webseite'</a> repr&auml;sentiert.
            Verschachtelte <code>Document</code> Knoten in <code>Frames</code> entsprechen
            'Komponenten' Knoten.
          </p>
          
<p>
            Die Klasse <code>DocumentNode</code> ist von <code>Node</code> abgeleitet und befindet
            sich ebenfalls im Package <code>de.qfs.apps.qftest.client.web.dom</code>. Zus&auml;tzlich zu
            den in der <code>Node</code> Klasse definierten Methoden, die oben beschrieben wurden,
            bietet <code>DocumentNode</code> folgendes an:
          </p>
          
<table class="api" cellspacing="0">
<tr>
<td colspan="2" class="apibegin">&nbsp;</td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="api">
<table width="100%" cellspacing="0">
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>Object evalJS(String script)</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                F&uuml;hrt JavaScript Code im Context dieses Dokuments aus.
              </td>
</tr>
<tr>
<td colspan="2" class="params"><strong>Parameter</strong></td>
</tr>
<tr>
<td class="paramname"><strong><code>script</code></strong></td><td class="paramdesc">Das auszuf&uuml;hrende Skript.</td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">Was immer
                das Skript zur&uuml;ckliefert, konvertiert in einen passenden Objekttyp. Sogar die R&uuml;ckgabe
                von DOM Knoten, Frames oder Dokumenten funktioniert.</td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>FrameNode[] getFrames()</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Liefert die Kind-Frames des Dokuments.
              </td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">
                Die Kind-Frames des Dokuments, ein leeres Array falls das Dokument keine Frames hat.
              </td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>DomNode getRootElement()</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Liefert den &lt;HTML&gt; Wurzelknoten des Dokuments.
              </td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">Der Wurzelknoten des Dokuments.</td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>String getSourcecode()</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Liefert den HTML Quelltext des Dokuments im aktuellen Zustand, also nicht
                notwendigerweise das, was beim &Ouml;ffnen des Dokuments geladen wurde, sondern inklusive
                aller &Auml;nderungen an Attributen oder der Struktur des DOM, die seither vorgenommen
                wurden, z.B. via JavaScript.
              </td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">
                Der aktuelle HTML Quelltext des Dokuments.
              </td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>String getTitle()</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Liefert den Titel des Dokuments aus dem &lt;TITLE&gt; Knoten im
                &lt;HEAD&gt; Knoten des Wurzelknotens.
              </td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">Der Titel des Dokuments.</td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>String getUrl()</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Liefert die URL des Dokuments.
              </td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">Die URL des Dokuments.</td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>boolean hasParent()</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Um zu pr&uuml;fen, ob ein Dokument sich auf oberster Ebene befindet, sollte diese Methode
                verwendet werden, anstatt das Ergebnis von <code>getParent()</code> auf null zu
                testen. Der Grund daf&uuml;r liegt darin, dass das Laden von Kind-Dokumenten vor dem
                Laden des Parent-Dokument abgeschlossen sein kann. In der Zwischenzeit ist bereits
                bekannt, dass das Kind-Dokument einen Parent haben wird, obwohl dieser noch nicht zur
                Verf&uuml;gung steht.
              </td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">
                True falls das Dokument einen Parent besitzt, false wenn es sich um ein Dokument auf
                oberster Ebene handelt.
              </td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="2" class="apiend">&nbsp;</td>
</tr>
</table>
          
<p>
            Neben den obigen Instanz-Methoden bietet die <code>DocumentNode</code> Klasse einige
            statische Methoden, um URL einfacher manipulieren zu k&ouml;nnen.
          </p>
          
<table class="api" cellspacing="0">
<tr>
<td colspan="2" class="apibegin">&nbsp;</td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="api">
<table width="100%" cellspacing="0">
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>static String getUrlBase(String url)</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Liefert den Basis-Teil einer URL inklusive Host und Verzeichnis, aber ohne
                eventuelle Parameter, abgetrennt durch ein '?' und ohne eine eventuelle Tomcat
                Session ID.
              </td>
</tr>
<tr>
<td colspan="2" class="params"><strong>Parameter</strong></td>
</tr>
<tr>
<td class="paramname"><strong><code>url</code></strong></td><td class="paramdesc">Die URL deren Basis-Teil ermittelt werden soll.</td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">Der Basis-Teil der URL.</td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>static String getUrlHost(String url)</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Liefert den Host-Teil einer URL, also den Teil zwischen "http(s)://" und dem
                n&auml;chsten '/'.
              </td>
</tr>
<tr>
<td colspan="2" class="params"><strong>Parameter</strong></td>
</tr>
<tr>
<td class="paramname"><strong><code>url</code></strong></td><td class="paramdesc">Die URL deren Host-Teil ermittelt werden soll.</td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">
                Der Host-Teil der URL oder null, falls das Protokoll weder http noch https ist.
              </td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>static ExtraFeatureSet getUrlParameters(String url)</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Liefert die Parameter einer URL, sowohl die durch ein '?' abgetrennten, als auch
                eine m&ouml;gliche Tomcat Session ID, in Form eines <code>ExtraFeatureSet</code> wie es
                f&uuml;r einen <code>ExtraFeatureResolver</code> ben&ouml;tigt wird (vgl. <a href="tech_resolversmodule.html#sec_extrafeatureresolver">Abschnitt 50.1.10</a>).
              </td>
</tr>
<tr>
<td colspan="2" class="params"><strong>Parameter</strong></td>
</tr>
<tr>
<td class="paramname"><strong><code>url</code></strong></td><td class="paramdesc">Die URL deren Parameter ermittelt werden sollen.</td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">
                Die Parameter der URL.
              </td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
<tr>
<td colspan="2" class="methoddef"><strong><code>static String normalizeUrl(String url)</code></strong></td>
</tr>
<tr>
<td colspan="2" class="comment">
                Normalisiert eine URL. Dabei werden '\' durch '/' ersetzt, "file:/(/(/))" durch
                "file:///", Windows Laufwerk-Buchstaben gro&szlig; geschrieben und %.. Sequenzen dekodiert.
              </td>
</tr>
<tr>
<td colspan="2" class="params"><strong>Parameter</strong></td>
</tr>
<tr>
<td class="paramname"><strong><code>url</code></strong></td><td class="paramdesc">Die zu normalisierende URL.</td>
</tr>
<tr>
<td class="return"><strong>R&uuml;ckgabewert</strong></td><td class="returndesc">
                Die normalisierte URL.
              </td>
</tr>
<tr>
<td colspan="2" class="methodsep">&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td colspan="2" class="apiend">&nbsp;</td>
</tr>
</table>
        
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="navifooter">
<tr>
<td class="margin"></td><td class="navicon"><a href="manual.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Inhaltsverzeichnis" title="Inhaltsverzeichnis"></a></td><td class="navicon"><a href="tech_dom_node.html#sec_dom_Node"><img src="../icons/linkprev.png" width="34" height="36" border="0" alt="Vorheriges Kapitel: 50.11.1&nbsp;Die abstrakte Klasse Node" title="Vorheriges Kapitel: 50.11.1&nbsp;Die abstrakte Klasse Node"></a></td><td class="navicon"><a href="tech_dom_frame.html#sec_dom_framenode"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="N&auml;chste Seite: 50.11.3&nbsp;Die Klasse FrameNode" title="N&auml;chste Seite: 50.11.3&nbsp;Die Klasse FrameNode"></a></td><td class="navicon"><a href="tech_dom_frame.html#sec_dom_framenode"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="N&auml;chstes Kapitel: 50.11.3&nbsp;Die Klasse FrameNode" title="N&auml;chstes Kapitel: 50.11.3&nbsp;Die Klasse FrameNode"></a></td><td class="navicon"><a href="tech_domapi.html#sec_domapi"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Kapitel-&Uuml;bersicht: 50.11&nbsp;Pseudo DOM API f&uuml;r Webanwendungen" title="Kapitel-&Uuml;bersicht: 50.11&nbsp;Pseudo DOM API f&uuml;r Webanwendungen"></a></td><td class="navicon"><a href="../../manual_de.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF Version" title="PDF Version"></a></td><td class="navcopymod">Letzte &Auml;nderung: 6.9.2022<br>Copyright &copy; 1999-2022 Quality First Software GmbH</td>
</tr>
</table>
</body>
</html>
