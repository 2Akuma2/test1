<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="version" content="6.0.3">
<link rel="shortcut icon" href="../icons/favicon.ico" type="image/vnd.microsoft.icon">
<title>Aufsetzen von Testsystemen</title>
<link href="man.css" type="text/css" rel="stylesheet">
<meta name="organisation" content="Quality First Software GmbH">
<meta name="copyright" content="(C) 1999-2022 Quality First Software GmbH">
</head>
<body bgcolor="white">
<a name="sec_bpTestsyssetup"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviheader">
<tr>
<td class="margin"></td><td class="navicon"><a href="manual.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Inhaltsverzeichnis" title="Inhaltsverzeichnis"></a></td><td class="navicon"><a href="bp_effecientwork.html#sec_bpEffectiveWork"><img src="../icons/linkprev.png" width="34" height="36" border="0" alt="Vorheriges Kapitel: 34&nbsp;Effiziente Arbeitstechniken" title="Vorheriges Kapitel: 34&nbsp;Effiziente Arbeitstechniken"></a></td><td class="navicon"><a href="bp_testexec.html#sec_bpTestExec"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="N&auml;chste Seite: 36&nbsp;Testausf&uuml;hrung" title="N&auml;chste Seite: 36&nbsp;Testausf&uuml;hrung"></a></td><td class="navicon"><a href="bp_testexec.html#sec_bpTestExec"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="N&auml;chstes Kapitel: 36&nbsp;Testausf&uuml;hrung" title="N&auml;chstes Kapitel: 36&nbsp;Testausf&uuml;hrung"></a></td><td class="navicon"><a href="bp_bestpractices.html#sec_BestP"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Kapitel-&Uuml;bersicht: II&nbsp;Best Practices" title="Kapitel-&Uuml;bersicht: II&nbsp;Best Practices"></a></td><td class="navicon"><a href="../../manual_de.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF Version" title="PDF Version"></a></td><td class="homeicon"><a href="http://www.qfs.de/de/qftest/index.html" target="_parent"><img src="../icons/qftest.png" width="127" height="42" border="0" alt="QF-Test" title="QF-Test"></a></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviversion">
<tr>
<td>Version 6.0.3</td>
</tr>
</table>
      
<h3 class="header-container h3">
<div>
<span class="numtitle"><a href="contents.html#toc_sec_bpTestsyssetup">35</a></span>
</div>
<a href="contents.html#toc_sec_bpTestsyssetup">Aufsetzen von Testsystemen</a>
</h3>

      
<p>
        Dieses Kapitel gibt Ihnen Hinweise, wie Sie Ihre Testsysteme und Prozesse aufsetzen k&ouml;nnen,
        um die Grundlagen f&uuml;r eine stabile Testausf&uuml;hrung legen zu k&ouml;nnen.
      </p>

        

      
<a name="sec_bpTaskScheduler"></a>
        
<h4 class="header-container h4">
<div>
<span class="numtitle"><a href="contents.html#toc_sec_bpTaskScheduler">35.1</a></span>
</div>
<a href="contents.html#toc_sec_bpTaskScheduler">Einrichten von Prozessen und Services via Aufgabenplaner</a>
</h4>
        
<p>
        Um Tests oder andere Prozesse regelm&auml;&szlig;ig auszuf&uuml;hren, werden auf Windows oft Services eingesetzt. Diese Services haben aber den Nachteil,
        dass sie nicht unter einer verwendbaren Benutzersession laufen. Demnach sollten Prozesse, wie ein Buildserverprozess oder
        Skripte, die den QF-Test Daemon starten, nicht als Service gestartet werden, weil es sonst zu Problemen bei der GUI Testausf&uuml;hrung kommen kann.
        Technische Details hierzu finden Sie unter <a href="faq.html#faq_14" shape="rect">FAQ 14</a>.
        </p>
        
<p>
        Wir empfehlen in der Regel statt Services eine Aufgabe &uuml;ber den Aufgabenplaner zu definieren.
        Diese k&ouml;nnen Sie direkt &uuml;ber die grafische Oberfl&auml;che des
        Aufgabenplaners einrichten.
        Die folgende Vorgehensweise funktioniert bei Windows 7, Windows 8, Windows 8.1 und Windows 10,
        wobei sich die Dialoge nur leicht unterscheiden:
        </p>
        
<ol>
            
<li>Starten Sie dazu zuerst den Aufgabenplaner &uuml;ber die Systemsteuerung -&gt; Verwaltung -&gt; Aufgabenplanung.</li>
            
<li>Klicken Sie auf "Aufgabe erstellen" rechts oben.</li>
            
<li>Auf dem "Allgemein" Reiter geben Sie einen Namen an, z.B. "QF-Test".</li>
            
<li>Nun klicken Sie auf "Benutzer oder Gruppen &auml;ndern" und w&auml;hlen den Benutzer
            aus, in dessen Session der Test ausgef&uuml;hrt werden soll. W&auml;hlen Sie hier
            unbedingt einen echten Benutzer und keinen Pseudo-User und nicht die
            Service-Session.</li>
            
<li>Klicken Sie auf OK, um den Dialog zu schlie&szlig;en.</li>
            
<li>W&auml;hlen Sie dann "Nur ausf&uuml;hren, wenn der Benutzer angemeldet ist".</li>
            
<li>W&auml;hlen Sie _nicht_ "Mit h&ouml;chsten Privilegien ausf&uuml;hren".</li>
            
<li>Sie k&ouml;nnen nun noch die korrekte Windows-Version f&uuml;r die Aufgabe anw&auml;hlen.</li>
            
<li>Auf dem "Trigger" Reiter klicken Sie auf "Neu..." und definieren Sie den
            Trigger auf dem neuen Dialog.</li>
            
<li>Schlie&szlig;en Sie danach den Dialog zur Zeitplanung.</li>
            
<li>Auf dem "Aktionen" Tab klicken Sie nun "Neu..." und w&auml;hlen Sie "Programm
            starten" und "Durchsuchen" Sie den Rechner nach dem .cmd oder .bat Script,
            welches entweder den Batch-Aufruf f&uuml;r QF-Test enth&auml;lt oder den Prozess Ihres Buildsystems startet.</li>
            
<li>Mit OK schlie&szlig;en Sie wieder den Dialog.</li>
            
<li>Auf dem "Bedingungen" Reiter und "Einstellungen" Tab k&ouml;nnen Sie nun noch
            die gew&uuml;nschten Einstellungen vornehmen.</li>
            
<li>Danach k&ouml;nnen Sie die Konfiguration abschlie&szlig;en.</li>
        
</ol>
        
<p>
        Wichtig ist nun, dass der User, in dessen Session dieser Prozess
        ausgef&uuml;hrt wird, zuvor eingeloggt wird. Entweder manuell oder automatisch (siehe <a href="#sec_bpAutoLogonWin">Abschnitt 35.3</a>).
        Empfehlenswert sind daher f&uuml;r GUI Tests immer virtuelle Maschinen. Hier
        muss nur auf dem Gastsystem der User eingeloggt sein, der Host kann
        gesperrt werden.
        </p>
      

      
      

      
<a name="sec_bpRemoteAccess"></a>
        
<h4 class="header-container h4">
<div>
<span class="numtitle"><a href="contents.html#toc_sec_bpRemoteAccess">35.2</a></span>
</div>
<a href="contents.html#toc_sec_bpRemoteAccess">Fernzugriff auf Windowsrechner</a>
</h4>
        
<p>
          Beim Fernzugriff auf Windowsrechner unterliegt die Verwendung von RDP einigen Einschr&auml;nkungen bzw.
          erfordert eine explizite Konfiguration des Systems, um uneingeschr&auml;nkt verwendet werden zu k&ouml;nnen.
          Dies liegt daran, dass die bei den Windows Desktop Varianten implementierte Variante des Zugriffs &uuml;ber RDP immer nur einen aktiven Anwender erlaubt. Wenn Sie sich also per RDP mit einem Testrechner verbinden, wird dessen (virtueller) Bildschirm gesperrt, w&auml;hrend Sie auf diesem Rechner arbeiten k&ouml;nnen. Schlie&szlig;en Sie Ihr RDP-Fenster, bleibt jedoch der Bildschirm des Testrechners gesperrt.
          Und auf einem gesperrten Bildschirm kann man unter &uuml;blichen Umst&auml;nden keine Benutzeroberfl&auml;che bedienen, also auch nicht testen.
        </p>
        
<p>
<span class="margin"><span class="note">Hinweis</span></span>
          Ab Windows 10 bzw. Windows Server 2016 k&ouml;nnen Sie unter gewissen Voraussetzungen RDP verwenden, wenn Sie folgende &Auml;nderung in der Registry vornehmen.
          Unter <code>HKEY_CURRENT_USER\Software\Microsoft\Terminal Server Client</code> oder
          <code>HKEY_LOCAL_MACHINE\Software\Microsoft\Terminal Server Client</code> f&uuml;gen Sie bitte einen neuen <code>DWORD</code> namens <code>RemoteDesktop_SuppressWhenMinimized</code> ein. Dort setzen Sie den Wert <code>2</code>. Das erlaubt dann das Minimieren des Fensters einer RDP-Verbindung, aber leider immer noch nicht das Schlie&szlig;en oder Trennen.
        </p>
        
<p>
          Nat&uuml;rlich k&ouml;nnen Sie auch Alternativen zu RDP verwenden. Hier k&ouml;nnen Sie sich z.B. der M&ouml;glichkeiten bedienen, die Ihnen der Server f&uuml;r die virtuellen Maschinen zur Verf&uuml;gung stellt.
          Beim einem VMware Server bietet sich also der vSphere Client an, bei VirtualBox kann man sich mit RDP mit VirtualBox (nicht mit dem Windows RDP des Clients) verbinden. Letzterer hat dann selbstverst&auml;ndlich nicht die oben genannten Effekte mit der Bildschirm-Sperrung.
        </p>
      

      
      

      
<a name="sec_bpAutoLogonWin"></a>
        
<h4 class="header-container h4">
<div>
<span class="numtitle"><a href="contents.html#toc_sec_bpAutoLogonWin">35.3</a></span>
</div>
<a href="contents.html#toc_sec_bpAutoLogonWin">Automatische Anmeldung auf Windowsrechnern</a>
</h4>
        
<p>
          Eine M&ouml;glichkeit sicherzustellen, dass ein Testrechner in den meisten F&auml;llen eine aktive Session hat,
          ist, dass sich auf diesem Rechner bei jedem Start automatisch ein Testbenutzer anmeldet. Wie man ein Windowssystem
          entsprechend konfigurieren kann, ist in diesem Abschnitt beschrieben.
        </p>
        
<p>
<span class="margin"><span class="note">Hinweis</span></span>
          Eine automatische Anmeldung an Windows ist immer ein Sicherheitsrisiko. Daher sollte
          selbstverst&auml;ndlich sichergestellt sein, dass die betroffenen Rechner au&szlig;erhalb der
          Testumgebung nicht zug&auml;nglich sind.
        </p>
        
<p>
          Diese Anleitung ist zwar grunds&auml;tzlich g&uuml;ltig, wird aber &uuml;blicherweise auf virtuelle Rechner angewendet werden,
          auf die dann von Fall zu Fall remote zugegriffen werden wird. Was bei diesem Remote-Zugriff zu beachten ist,
          finden Sie im <a href="#sec_bpRemoteAccess">Abschnitt 35.2</a>.
        </p>
        
<p>
          Die folgende Vorgehensweise funktioniert bei Windows 7, Windows 8, Windows 8.1 und Windows 10,
          wobei sich die Dialoge nur leicht unterscheiden:
        </p>
        
<ol>
          
<li>Starten Sie eine Eingabeaufforderung mit Administrator-Rechten.</li>

          
<li>Geben Sie <code>control userpasswords2</code> ein.</li>

          
<li>Es &ouml;ffnet sich daraufhin der Dialog "Benutzerkonten".</li>

          
<li>Bitte entfernen Sie hier das H&auml;kchen bei "Benutzer m&uuml;ssen
          Benutzernamen und Kennwort eingeben", nachdem Sie den Benutzer
              markiert haben, der sich sp&auml;ter automatisch anmelden soll.</li>

          
<li>In dem nun erscheinenden Dialog "Automatische Anmeldung" tragen Sie
          bitte das Benutzer-Kennwort zwei Mal ein.</li>

          
<li>Nach dem anschlie&szlig;enden Klick auf die "OK" Schaltfl&auml;che ist die
          automatische Anmeldung fertig eingerichtet.</li>
        
</ol>
        
<p>
          Es gibt auch noch andere Wege, dies zu erreichen. Zum Einen k&ouml;nnten Sie den entsprechenden Registry-Eintrag direkt &auml;ndern.
          Zum Anderen aber auch das Tool "Autologon" von Microsoft unter
          <a href="https://technet.microsoft.com/de-de/sysinternals/bb963905" shape="rect">https://technet.microsoft.com/de-de/sysinternals/bb963905</a> herunter laden.
          Alle diese Varianten erreichen aber im Endeffekt exakt dasselbe (n&auml;mlich den entsprechenden Registry-Eintrag).
          Wir empfehlen jedoch die hier vorgestellte Variante, da kein Download n&ouml;tig ist und Tippfehler beim Registry-Eintrag ausgeschlossen sind.
          &Uuml;brigens funktioniert die automatische Anmeldung nie bei Benutzern, die sich an einer Dom&auml;ne anmelden. Aber das w&auml;re bei Testrechnern
          ja auch ungeschickt, wird aber die meisten Administratoren sehr beruhigen.
        </p>
      

      
         

      
<a name="sec_bpUnix"></a>
        
<h4 class="header-container h4">
<div>
<span class="numtitle"><a href="contents.html#toc_sec_bpUnix">35.4</a></span>
</div>
<a href="contents.html#toc_sec_bpUnix">Testausf&uuml;hrung unter Unix</a>
</h4>
        
<p>
        Auf Unixsystemen k&ouml;nnen virtuelle Displays mittels Tools wie VNC-Server einfach eingerichtet werden.
        Ein guter Windowmanager hierf&uuml;r ist, z.B. xfce.
        </p>
      

      

    
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="navifooter">
<tr>
<td class="margin"></td><td class="navicon"><a href="manual.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Inhaltsverzeichnis" title="Inhaltsverzeichnis"></a></td><td class="navicon"><a href="bp_effecientwork.html#sec_bpEffectiveWork"><img src="../icons/linkprev.png" width="34" height="36" border="0" alt="Vorheriges Kapitel: 34&nbsp;Effiziente Arbeitstechniken" title="Vorheriges Kapitel: 34&nbsp;Effiziente Arbeitstechniken"></a></td><td class="navicon"><a href="bp_testexec.html#sec_bpTestExec"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="N&auml;chste Seite: 36&nbsp;Testausf&uuml;hrung" title="N&auml;chste Seite: 36&nbsp;Testausf&uuml;hrung"></a></td><td class="navicon"><a href="bp_testexec.html#sec_bpTestExec"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="N&auml;chstes Kapitel: 36&nbsp;Testausf&uuml;hrung" title="N&auml;chstes Kapitel: 36&nbsp;Testausf&uuml;hrung"></a></td><td class="navicon"><a href="bp_bestpractices.html#sec_BestP"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Kapitel-&Uuml;bersicht: II&nbsp;Best Practices" title="Kapitel-&Uuml;bersicht: II&nbsp;Best Practices"></a></td><td class="navicon"><a href="../../manual_de.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF Version" title="PDF Version"></a></td><td class="navcopymod">Letzte &Auml;nderung: 6.9.2022<br>Copyright &copy; 1999-2022 Quality First Software GmbH</td>
</tr>
</table>
</body>
</html>
