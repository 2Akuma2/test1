<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="version" content="6.0.3">
<link rel="shortcut icon" href="../icons/favicon.ico" type="image/vnd.microsoft.icon">
<title>Sub-items: Addressing relative to a parent component</title>
<link href="man.css" type="text/css" rel="stylesheet">
<meta name="organisation" content="Quality First Software GmbH">
<meta name="copyright" content="(C) 1999-2022 Quality First Software GmbH">
</head>
<body bgcolor="white">
<a name="usec_subitems"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviheader">
<tr>
<td class="margin"></td><td class="navicon"><a href="manual.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Table of contents" title="Table of contents"></a></td><td class="navicon"><a href="sec_bpCRGeneric.html#sec_bpCRGeneric"><img src="../icons/linkprev.png" width="34" height="36" border="0" alt="Previous Chapter: 5.8&nbsp;Generic components" title="Previous Chapter: 5.8&nbsp;Generic components"></a></td><td class="navicon"><a href="user_troubleshooting.html#usec_troubleshooting"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="Next Page: 5.10&nbsp;Troubleshooting component recognition problems" title="Next Page: 5.10&nbsp;Troubleshooting component recognition problems"></a></td><td class="navicon"><a href="user_troubleshooting.html#usec_troubleshooting"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="Next Chapter: 5.10&nbsp;Troubleshooting component recognition problems" title="Next Chapter: 5.10&nbsp;Troubleshooting component recognition problems"></a></td><td class="navicon"><a href="user_components.html#usec_components"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Chapter Overview: 5&nbsp;Components" title="Chapter Overview: 5&nbsp;Components"></a></td><td class="navicon"><a href="../../manual_en.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF version" title="PDF version"></a></td><td class="homeicon"><a href="http://www.qfs.de/en/qftest/index.html" target="_parent"><img src="../icons/qftest.png" width="127" height="42" border="0" alt="QF-Test" title="QF-Test"></a></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviversion">
<tr>
<td>Version 6.0.3</td>
</tr>
</table>
        
<h4 class="header-container h4">
<div>
<span class="numtitle"><a href="contents.html#toc_usec_subitems">5.9</a></span>
</div>
<a href="contents.html#toc_usec_subitems">Sub-items: Addressing relative to a parent component</a>
</h4>
        
<p>
          In QF-Test it is possible to address components in relation to a parent component.
          This is most interesting if the child component can only be unequivocally addressed
          in combination with its parent.
          There are various usage scenarios for this
          and also various ways to implement.
        </p>
        
<dl>
          
<dt>Addressing via index</dt>
          
<dd>
            
<p>
              With tables, lists, and trees it makes sense to use an index for sub-items.
              The main component is specified via the 'QF-Test component ID' or a SmartID.
              The index for the sub-item is appended.
            </p>
            
<p>
              Examples:
              <code>listid@Entry</code>,
              <code>#Table@Column Heading&amp;5</code>
            
</p>
            
<p>
              If the main component is addressed via a SmartID,
              tabs in a <code>TabPanel</code> or list items of a <code>ComboBox</code>
              can be referenced simplified.
            </p>
            
<p>
              Examples <code>#Tab:Tab1</code>, <code>#Item:EntryX</code>
            
</p>
            
<p>
              More information can be found in <a href="#sec_directsubitemeasy">Addressing via index</a>.
            </p>
          
</dd>
          
<dt>Addressing sub-items via SmartID</dt>
          
<dd>
            
<p>
              SmartIDs can be attached to the 'QF-Test component ID' or to the SmartID identifying the parent component.
              As divider between parent and child component, <code>@</code> is used.
              The nesting can also be multi-level.
              The individual components can also be given an index.
            </p>
            
<p>
              Examples:
              <code>#Dialog:@#OK</code>,
              <code>comboboxid@#Button:</code>,
              <code>#Table:&amp;0&amp;0@#CheckBox:</code>.
            </p>
          
</dd>
          
<dt>Addressing sub-items via QPath</dt>
          
<dd>
            
<p>
              A QPath can be used simliarly to the attached SmartID,
              but is not as powerful as it by far.
              A QPath can be attached to a 'QF-Test component ID'.
              As divider, <code>@</code> is used.
              The 'QF-Test component ID' can also be given an index.
            </p>
            
<p>
              Examples: <code>buttonid@:Icon</code>, <code>tableid&amp;0&amp;0@:CheckBox</code>
            
</p>
            
<p>
              More information can be found in <a href="#usec_multilevelsubitemsqpath">Addressing via QPath</a>.
            </p>
          
</dd>
          
<dt>
<span class="margin"><a name="web_N73524"></a><span class="note">Web</span></span> Addressing sub-items via XPath and CSS selectors</dt>
          
<dd>
            
<p>
              With web applications, an XPath and/or a CSS-Selektor
              can also be appended to a 'QF-Test component ID' or a SmartID.
              As divider <code>@:xpath=</code> or <code>@:css=</code> is used.
              The 'QF-Test component ID' can also be given an index.
            </p>
            
<p>
              Example: <code>genericDocument@:xpath=${quoteitem:$(xpath)}</code>
            
</p>
            
<p>
              More information can be found in <a href="#usec_xpath">Addressing via XPath and/or CSS selectors</a>.
            </p>
          
</dd>
          
<dt>Scope</dt>
          
<dd>
            
<p>
              The parent component can also be specified via a scope, see <a href="usec_scope.html#usec_scope">Scope (Preview)</a>.
            </p>
          
</dd>
          
<dt>Recording sub-items as nodes</dt>
          
<dd>
            
<p>
              In the case of tables, lists and trees
              it can also make sense to record the sub-item as <a href="components.html#step_SubItemStep" shape="rect">'Item'</a> node.
              It depends on the situation if a sub-item is addressed via index
              or if it makes more sense to record it.
              You can use both methods as preferred and even combine them.
              The rule of thumb is that an 'Item' node
              is better for components with few, constant elements,
              like columns of a table or tabs in a tab panel.
              The syntax is preferrable if QF-Test variables are used in indexes
              or if the names of elements vary or are editable.
              The option <a href="opt_record.html#opt_subitemtype">Sub-item type</a> determines
              if QF-Test creates 'Item' nodes during recording
              or uses the 'QF-Test ID' syntax.
              With the default setting "Intelligent", QF-Test follows the rules above.
            </p>
            
<p>
              More information about recording sub-items can be found in
              <a href="#usec_subitems_node">Addressing via 'Items' nodes</a>.
            </p>
          
</dd>
          
<dt>Possible combinations</dt>
          
<dd>
            
<p>
              Note: In the following listing, the SmartID of the parent component
              may already consist of nested references.
            </p>
            
<a name="table_5.1"></a><a name="table_5.1"></a>
<table class="table" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3">
<table class="tdleft" border="1" cellspacing="0" cellpadding="5" texwidth="\linewidth">
              
                
<tr>
                  
                  
<th texalign="p{1.25in}" rowspan="1" colspan="1">Reference of the parent component</th>
                  <th texalign="p{0.8in}" rowspan="1" colspan="1">Reference of the child component</th>
                  <th rowspan="1" colspan="1">Example</th>
                
</tr>
                
<tr>
                  
<td texalign="p{1.25in}" rowspan="1" colspan="1">'QF-Test component ID'</td>
                  <td texalign="p{0.8in}" rowspan="1" colspan="1">Index</td>
                  <td rowspan="1" colspan="1">list item with text index: <code>listid@Entry</code></td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">SmartID</td>
                  <td rowspan="1" colspan="1">Index</td>
                  <td rowspan="1" colspan="1">table cell with numeric indexes: <code>#Table:&amp;0&amp;2</code></td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">'QF-Test component ID'</td>
                  <td rowspan="1" colspan="1">SmartID</td>
                  <td rowspan="1" colspan="1">Icon in button: <code>buttonid@#Icon:</code></td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">SmartID</td>
                  <td rowspan="1" colspan="1">SmartID</td>
                  <td rowspan="1" colspan="1">Text field in dialog: <code>#Dialog:@#TextField:</code></td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">SmartID with index</td>
                  <td rowspan="1" colspan="1">SmartID</td>
                  <td rowspan="1" colspan="1">Button in table cell: <code>#Table:&amp;0&amp;2@#Button:</code></td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">'QF-Test component ID' with index</td>
                  <td rowspan="1" colspan="1">SmartID</td>
                  <td rowspan="1" colspan="1">Button in table cell: <code>tableID&amp;0&amp;2@#Button:</code></td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">'QF-Test component ID' with index</td>
                  <td rowspan="1" colspan="1">QPath</td>
                  <td rowspan="1" colspan="1">Button in table cell: <code>tableID&amp;0&amp;2@:Button</code></td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">'QF-Test component ID' with or without index</td>
                  <td rowspan="1" colspan="1">XPath and/or CSS selector</td>
                  <td rowspan="1" colspan="1"><code>genericHtml@:css=${quoteitem:$(css)}</code></td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">SmartID with or without index</td>
                  <td rowspan="1" colspan="1">XPath and/or CSS selector</td>
                  <td rowspan="1" colspan="1"><code>#genericDocument@:xpath=${quoteitem:$(xpath)}</code>
                  </td>
                
</tr>
                
<tr>
                  
<td rowspan="1" colspan="1">Scopes</td>
                  <td rowspan="1" colspan="1">SmartID</td>
                  <td rowspan="1" colspan="1">Scope as doctag in a 'Test-step', SmartID in check node</td>
                
</tr>
              
</table>
</td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="tables.html#list-of-tables">Table&nbsp;5.1</a>:&nbsp;&nbsp;Addressing sub-items</td><td class="captionglue"></td>
</tr>
</table>
          
</dd>
        
</dl>

        
<a name="sec_directsubitemeasy"></a>
          
<h5 class="header-container h5">
<div>
<span class="numtitle"><a href="contents.html#toc_sec_directsubitemeasy">5.9.1</a></span>
</div>
<a href="contents.html#toc_sec_directsubitemeasy">Addressing via index</a>
</h5>
          
<p>
            The sub-item is described using a special syntax.
            The 'QF-Test component ID' which is used in the test
            is comprised of the 'QF-Test ID' or the SmartID of the complex component (tree, table, etc.),
            followed by a special separator and the index of the sub-item.
            The kind of separator determines if the index is numeric,
            textual, or a regular expression (see <a href="tech_regexp.html#sec_regexp">section 45.3</a>):
          </p>
          
<a name="table_5.2"></a><a name="table_5.2"></a>
<table class="table" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3">
<table class="tdcenterleft" border="1" cellspacing="0" cellpadding="5">
              
<tr>
                
<th rowspan="1" colspan="1">Separator</th>
                <th rowspan="1" colspan="1">Index format</th>
              
</tr>
              
<tr>
                
<td align="center" rowspan="1" colspan="1">@</td>
                <td align="left" rowspan="1" colspan="1">Text index</td>
              
</tr>
              
<tr>
                
<td align="center" rowspan="1" colspan="1">&amp;</td>
                <td align="left" rowspan="1" colspan="1">Numerical index</td>
              
</tr>
              
<tr>
                
<td align="center" rowspan="1" colspan="1">%</td>
                <td align="left" rowspan="1" colspan="1">Regular expression</td>
              
</tr>
            
</table>
</td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="tables.html#list-of-tables">Table&nbsp;5.2</a>:&nbsp;&nbsp;Separator and index format for accessing sub-items</td><td class="captionglue"></td>
</tr>
</table>
          
<p>
            To access a table cell with 'Primary index' and 'Secondary index',
            simply append another separator, followed by the second index.
            The two indices can be in different formats.
          </p>
          
<p>
            
<span class="margin"><span class="note">Note</span></span>
            The special meaning of the separators '@', '&amp;' and '%'
            makes them special characters which must be escaped
            if they appear in a name itself.
            More about this topic can be found in <a href="tech_quoting.html#sec_quoting">section 45.5</a>.
          </p>
          
<dl>
            
<dt>Negative index</dt>
            
<dd>
              
<p>
                It is almost always possible to start the count from the back with a negative index.
              </p>
            
</dd>
            
<dt>Examples</dt>
            
<dd>
              
<ul>
                
<li>
                  If your test suite has a 'Component' node for a <code>Table</code> component
                  with the 'QF-Test ID' <code>table</code>
                  and you want to replay a mouse click
                  on the cell in the 6th row of the column "Name",
                  create a <a href="events.html#step_MouseEventStep" shape="rect">'Mouse event'</a>
                  and set the <a href="events.html#att_MouseEventStep_component" shape="rect">'QF-Test component ID'</a> attribute to <code>table@Name&amp;5</code>.
                </li>
                
<li>
                  
<code>listid&amp;0</code> addresses the furst entry of a list by numeric index.
                  The list itself was recorded as component.
                </li>
                
<li>
                  
<code>#listname@Europe</code> addresses the entry with the text "Europe".
                  The list itself is referenced via its identifier in a SmartID.
                </li>
                
<li>
                  
<code>#Tree:@/Root/Branch1/Branch1-2/Leaf</code> addresses a tree path
                  specified by the texts of each tree node.
                </li>
                
<li>
                  
<code>#Tree:%/W.*/A.*1/A.*\d-\d/B.*</code> addresses a tree path
                  specified by regular expressions for each tree node.
                </li>
                
<li>
                  
<code>#Tree&amp;/0/5/1/3/</code> addresses a tree path
                  specified by numeric indexes for each tree node.
                </li>
                
<li>
                  
<code>table&amp;-1&amp;-1</code> addresses the last cell in the rightmost table column.
                </li>
              
</ul>
            
</dd>
            
<dt>SmartIDs: Easy indexes for TabPanels and ComboBox lists</dt>
            
<dd>
              
<p>
                With SmartIDs, tabs in tab panels must be addressed according to the syntax above,
                for example by <code>#TabPanel:@Tab1</code>,
                whereby <code>Tab1</code> is the name of the tab.
                Alternatively, the shortcut <code>#Tab:Tab1</code> can be used here.
                If no other component has the SmartID <code>#Tab1</code>,
                the tab can eben be addressed by <code>#Tab1</code>.
              </p>
              
<p>
                If a combo box list is opened, the list entries can be addressed according to the syntax above
                by <code>#List:@EntryX</code>.
                As a shortcut, <code>#Item:EntryX</code> is also possible.
              </p>
              
<p>
                Both shortcuts are very comfortable, but the high flexibility has its price in performance.
                How high it ends up depends on many factors,
                so the decision between comfort and performance must be made on a
                case-by-case basis.
              </p>
            
</dd>
          
</dl>
        

        
<a name="usec_multilevelsubitemsqpath"></a>
          
<h5 class="header-container h5">
<div>
<span class="numtitle"><a href="contents.html#toc_usec_multilevelsubitemsqpath">5.9.2</a></span>
</div>
<a href="contents.html#toc_usec_multilevelsubitemsqpath">Addressing via QPath</a>
</h5>
          
<p>
            Each 'QF-Test component ID' attribute in an event or check node (with or without sub-item)
            can be appended one or more indexes in the form of <code>@:ClassName&lt;idx&gt;</code>,
            whereby <code>&lt;idx&gt;</code> is optional.
            This instructs QF-Test to first determine the target component (and if needed the sub-item)
            for the part of the  'QF-Test component ID' attribute in front of the <code>@:</code>
            and then to search for visible components of class ClassName within.
            If <code>&lt;idx&gt;</code> is specified, this is interpreted as 0-based index of the list of visible candidates. No <code>&lt;idx&gt;</code> is equivalent to <code>&lt;0&gt;</code>.
          </p>
          
<p>
            The QPath syntax expects a generic class after the <code>@:</code>.
            An overview over generic classes can be found in <a href="tech_genclassesoverview.html#sec_genclassesoverview">section 57.1</a>.
            If the component cannot be recorded with a generic class, the QPath must contain the complete class name.
            In JavaFX for example, some of them are called <code>ImageView</code>, <code>VBox</code>, <code>GridPane</code>, or <code>BorderPane</code>.
          </p>
          
<p>
            The following example references the second <code>ImageView</code> on the third position of a list:
            <code>panelSecond.list&amp;3@:javafx.scene.image.ImageView&lt;1&gt;</code>
          
</p>
        

        
<a name="usec_xpath"></a>
          
<h5 class="header-container h5">
<div>
<span class="margin"><a name="web_N74163"></a><span class="note">Web</span></span><span class="numtitle"><a href="contents.html#toc_usec_xpath">5.9.3</a></span>
</div>
<a href="contents.html#toc_usec_xpath">Addressing via XPath and/or CSS selectors</a>
</h5>
          
<span class="margin"><a name="new_N74166"></a><span class="note">4.1+</span></span>
          
<p>
            XPath and CSS selectors are standardised formats for addressing elements in web browsers.
            (Official specifications:
            <a href="https://www.w3.org/TR/xpath/" shape="rect">www.w3.org/TR/xpath</a> and
            <a href="https://www.w3.org/TR/css3-selectors/" shape="rect">www.w3.org/TR/css3-selectors</a>).
          </p>
          
<p>
            QF-Test supports addressing components via XPaths and
            CSS selectors for web elements, to allow for easier migration of existing web tests of other tools into QF-Test.
          </p>
          
<p>
            There are already a lot of tutorials on the internet on how to address elements with CSS selectors
            (for example
            <a href="https://www.w3schools.com/cssref/css_selectors.asp" shape="rect">w3schools CSS Selector Reference</a>)
            and with XPaths (for example
            <a href="https://www.w3schools.com/xml/xpath_syntax.asp" shape="rect">w3schools XPath Syntax</a>). Because of this, the peculiarities of these ways of addressing components are not described here.
          </p>

          
<p>
<b>Use in the QF-Test ID</b>
</p>

          
<p>
            Assuming that a web component is to be recognized in QF-Test using the XPath "$(xpath)"
            or a CSS selector "$(css)",
            this can be done in several ways.
            The easiest/fastest way is usually to specify the XPath or the CSS selector
            in the <a href="events.html#att_MouseEventStep_component" shape="rect">'QF-Test component ID'</a> attribute of any event node.
            The following syntax is used for this:
          </p>
          
<p>
          
<code>
genericHtml@:xpath=${quoteitem:$(xpath)}<br>
genericHtml@:css=${quoteitem:$(css)}
          </code>
          
</p>
          
<p>
            Or to the same effect:
          </p>
          
<p>
            
<code>
genericDocument@:xpath=${quoteitem:$(xpath)}<br>
genericDocument@:css=${quoteitem:$(css)}
            </code>
          
</p>
          
<p>
            The syntax can be nested as needed. For example, you can use:
          </p>
          
<p>
            
<code>
genericDocument@:xpath=${quoteitem:$(xpath)}@:css=${quoteitem:$(css)}
            </code>
          
</p>
          
<p>
            to direct QF-Test to first search for a component using an XPath
            and then search for a child component using a CSS selector.
          </p>
          
<p>
            
<span class="margin"><span class="note">Note</span></span>
            Please note that the <code>@:xpath</code>/<code>@:css</code> syntax
            understandably expects the given XPath/CSS statement to return a single component.
            Using an XPath which returns a number (for example <code>count(.//input[@id!='Google'])</code>)
            or a boolean (for example <code>nilled($in-xml//child[1])</code>)
            can lead to unexpected behavior.
          </p>

          
<p>
<b>Use in scripts</b>
</p>

          
<p>
            The <code>rc</code> module in SUT scripts also allows to find web components via XPath or CSS selectors.
          </p>
          
<a name="ex_xpath_css_sut_find"></a>
<table class="example" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3">
<table width="100%" cellspacing="0">
<tr>
<td class="example"><pre>com = rc.getComponent("genericHtml") # or rc.getComponent("genericDocument")
res = com.getByXPath(rc.lookup("xpath"))    # find subcomponent via xpath
res = com.getByCSS(rc.lookup("css"))        # find subcomponent via css
res = com.getAllByXPath(rc.lookup("xpath")) # find all subcomponent via xpath
res = com.getAllByCSS(rc.lookup("css"))     # find all subcomponent via css</pre></td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption">Example&nbsp;5.2:&nbsp;&nbsp;Finding components by XPath or CSS selectors in scripts</td><td class="captionglue"></td>
</tr>
</table>
          
<p>
            To use an XPath which does not return any component(s), please use the <code>evalJS</code> method:
          </p>
          
<a name="ex_xpath_no_components"></a>
<table class="example" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3">
<table width="100%" cellspacing="0">
<tr>
<td class="example"><pre>node = rc.getComponent('genericDocument')
print node.evalJS("""document.evaluate("count(.//input[@id='Google'])",
  document, null, 0, null).numberValue;""")</pre></td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption">Example&nbsp;5.3:&nbsp;&nbsp;Executing an XPath statement which does not return a component</td><td class="captionglue"></td>
</tr>
</table>

          
<p>
<b>Use in component nodes</b>
</p>

          
<p>
            Inside a component node QF-Test can also be instructed
            to use an XPath or CSS selector for component recognition.
            To do this, specify a recognition criterium like the following in "Extra features":
          </p>
          
<a name="figure_5.11"></a><a name="figure_5.11"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="" target="_blank">
<table align="center" class="tdcenterleft" border="1" cellspacing="0" cellpadding="5">
              
<tr>
                
<td align="center" rowspan="1" colspan="1">Status</td><td rowspan="1" colspan="1">must match</td>
              
</tr>
              
<tr>
                
<td align="center" rowspan="1" colspan="1">Regexp</td><td rowspan="1" colspan="1">No</td>
              
</tr>
              
<tr>
                
<td align="center" rowspan="1" colspan="1">Negate</td><td rowspan="1" colspan="1">No</td>
              
</tr>
              
<tr>
                
<td align="center" rowspan="1" colspan="1">Name</td><td rowspan="1" colspan="1">qfs:item</td>
              
</tr>
              
<tr>
                
<td align="center" rowspan="1" colspan="1">Value</td><td rowspan="1" colspan="1">@:xpath=${quoteitem:$(xpath)} oder @:css=${quoteitem:$(css)}</td>
              
</tr>
            
</table>
</a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;5.11</a>:&nbsp;&nbsp;Extra feature attribute for component recognition via XPath or CSS selector.</td><td class="captionglue"></td>
</tr>
</table>
      
      
<a name="usec_subitems_node"></a>
        
<h5 class="header-container h5">
<div>
<span class="numtitle"><a href="contents.html#toc_usec_subitems_node">5.9.4</a></span>
</div>
<a href="contents.html#toc_usec_subitems_node">Addressing via 'Items' nodes</a>
</h5>
        
<p>
          An 'Item' is defined by two things: The component it belongs to
          and an index inside the component.
          The parent node of the 'Item' defines the component.
          The index can be either a number or a text.
          Numeric indexes start with 0.
          For example, in a <code>JList</code> component the element with index 1
          corresponds to the second list entry.
          For trees, simple numeric indexes are almost useless,
          since by opening and closing branches, the indexes of all nodes below are changed.
        </p>
        
<p>
          A text index defines an element by the text it displays in the interface.
          a list item called "Entry1" in a <code>JList</code> component
          would be recorded with the text index "Entry1".
          The textual representation is more flexible than the numeric one,
          but can cause problems if the displayed texts of the elements in a component are not unique.
          In these cases, the first matching element is selected.
          A text index can also be a regular expression (see <a href="tech_regexp.html#sec_regexp">section 45.3</a>).
          In this case, the first element matching the expression is selected.
        </p>
        
<p>
          The option <a href="opt_record.html#opt_subitemformat">Sub-item format</a> determines
          which format is used during element recording.
        </p>
        
<p>
          Almost all kinds of 'Item' have only one index.
          This is not sufficient for the cell of a <code>JTable</code> component,
          since tables are two-dimensional structures.
          Two indexes are needed to exactly describe a cell.
          The first, the <a href="components.html#att_SubItemStep_primary" shape="rect">'Primary index'</a>, determines the table column,
          the second, the <a href="components.html#att_SubItemStep_secondary" shape="rect">'Secondary index'</a>, the row.
        </p>
        
<a name="figure_5.12"></a><a name="figure_5.12"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="images/Items.png" target="_blank"><img src="images/Items.png" alt="An item for a table cell" width="986" height="506" texscale=".66"></a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;5.12</a>:&nbsp;&nbsp;An 'Item' for a table cell</td><td class="captionglue"></td>
</tr>
</table>
        
<p>
          Tree nodes also occupy a special position.
          As described above, the hierarchical structure cannot be easily mapped
          to a linear structure.
          In addition, tree nodes with the same names often occur in trees.
          If, on the other hand, the direct and indirect parent nodes are included in the name,
          uniqueness can usually be achieved.
        </p>
        
<p>
          QF-Test uses a special syntax to represent tree nodes.
          An index starting with a '/' character is interpreted as a path index.
          Just think of a file system:
          The file named "/tmp/file1" can either
          be represented flat as "file1",
          which can lead to conflicts with other files named "file1"
          in other directories.
          Alternatively, the full and unique path "/tmp/file1" can be used.
          QF-Test also supports numeric indexes with this syntax:
          A numeric index of the form "/2/3" denotes
          the fourth child node of the third child node of the root node.
          A combined form to address the third node in the "tmp" node
          using "/tmp/2", for example, is currently not possible.
        </p>
        
<p>
          
<span class="margin"><span class="note">Note</span></span>
          This special syntax makes '/' a special character for 'Items' in a tree component.
          If this character appears in a name itself, it therefore must be escaped.
          More about this topic can be found in <a href="tech_quoting.html#sec_quoting">section 45.5</a>.
        </p>
        
<p>
          Everything said in <a href="user_componentstep.html#usec_componentstep">section 5.5</a> about the 'QF-Test ID' attribute
          of 'Components' also applies to the <a href="components.html#att_SubItemStep_id" shape="rect">'QF-Test ID'</a> attribute of an 'Item'.
          This attribute must be unique and is referenced by events and checks.
        </p>
        
<p>
          When QF-Test automatically assigns the 'QF-Test ID' of an 'Item',
          it creates it by taking the 'QF-Test ID' of the 'Component' of the parent node
          and appending the index (or indexes).
          This kind of 'QF-Test ID' is normally well readable and understandable.
          Unfortunately, it also is the source of a frequent misunderstanding:
          If you want to change the index of a recorded 'Item' to refer to another element,
          you must <strong>not</strong> change the attribute 'QF-Test component ID' of the node which refers to it.
          Instead you must change the 'Primary index' of the 'Item' node.
        </p>
      
     
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="navifooter">
<tr>
<td class="margin"></td><td class="navicon"><a href="manual.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Table of contents" title="Table of contents"></a></td><td class="navicon"><a href="sec_bpCRGeneric.html#sec_bpCRGeneric"><img src="../icons/linkprev.png" width="34" height="36" border="0" alt="Previous Chapter: 5.8&nbsp;Generic components" title="Previous Chapter: 5.8&nbsp;Generic components"></a></td><td class="navicon"><a href="user_troubleshooting.html#usec_troubleshooting"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="Next Page: 5.10&nbsp;Troubleshooting component recognition problems" title="Next Page: 5.10&nbsp;Troubleshooting component recognition problems"></a></td><td class="navicon"><a href="user_troubleshooting.html#usec_troubleshooting"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="Next Chapter: 5.10&nbsp;Troubleshooting component recognition problems" title="Next Chapter: 5.10&nbsp;Troubleshooting component recognition problems"></a></td><td class="navicon"><a href="user_components.html#usec_components"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Chapter Overview: 5&nbsp;Components" title="Chapter Overview: 5&nbsp;Components"></a></td><td class="navicon"><a href="../../manual_en.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF version" title="PDF version"></a></td><td class="navcopymod">Last update: 9/6/2022<br>Copyright &copy; 1999-2022 Quality First Software GmbH</td>
</tr>
</table>
</body>
</html>
