<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="version" content="6.0.3">
<link rel="shortcut icon" href="../icons/favicon.ico" type="image/vnd.microsoft.icon">
<title>The Variable Bindings table</title>
<link href="man.css" type="text/css" rel="stylesheet">
<meta name="organisation" content="Quality First Software GmbH">
<meta name="copyright" content="(C) 2002-2022 Quality First Software GmbH">
</head>
<body bgcolor="white">
<a name="tut_variable_stack"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviheader">
<tr>
<td class="margin"></td><td class="navicon"><a href="tutorial.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Table of contents" title="Table of contents"></a></td><td class="navicon"><a href="secondproc.html#sec_ProcedureWithVariable"><img src="../icons/linkprev.png" width="34" height="36" border="0" alt="Previous Chapter: 6.1&nbsp;Procedure using a variable" title="Previous Chapter: 6.1&nbsp;Procedure using a variable"></a></td><td class="navicon"><a href="variablestackdebugging.html#tut_variable_stack_debugging"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="Next Page: 6.3&nbsp;Advanced debugging of variable bindings" title="Next Page: 6.3&nbsp;Advanced debugging of variable bindings"></a></td><td class="navicon"><a href="variablestackdebugging.html#tut_variable_stack_debugging"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="Next Chapter: 6.3&nbsp;Advanced debugging of variable bindings" title="Next Chapter: 6.3&nbsp;Advanced debugging of variable bindings"></a></td><td class="navicon"><a href="variablestack.html#sec_variablestack"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Chapter Overview: 6&nbsp;Variables and Procedure Parameters (Java)" title="Chapter Overview: 6&nbsp;Variables and Procedure Parameters (Java)"></a></td><td class="navicon"><a href="../../tutorial_en.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF version" title="PDF version"></a></td><td class="homeicon"><a href="http://www.qfs.de/en/qftest/index.html" target="_parent"><img src="../icons/qftest.png" width="127" height="42" border="0" alt="QF-Test" title="QF-Test"></a></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviversion">
<tr>
<td>Version 6.0.3</td>
</tr>
</table>
      
<h4 class="header-container h4">
<div>
<span class="numtitle"><a href="contents.html#toc_tut_variable_stack">6.2</a></span>
</div>
<a href="contents.html#toc_tut_variable_stack">The Variable Bindings table</a>
</h4>
      
<p>
        The next step is to make use of the procedure call in the second test-case as well.
      </p>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          <strong>Replace the 'Check text' node</strong> of the second test-case
          <strong>by a procedure call to checkFinalPrice</strong>. You can simply copy the
          respective node from the first test-case or add the procedure call as learned in the
          previous chapter.
        </li>
      
</ul>
      
<a name="fig_AddProcedureCallToSecondTestcase"></a><a name="figure_6.5"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="images/AddProcedureCallToSecondTestcase.png" target="_blank"><img src="images/AddProcedureCallToSecondTestcase.png" alt="Second procedure calls 'Check price'" texscale=".5" width="410" height="354"></a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;6.5</a>:&nbsp;&nbsp;Second procedure calls 'checkFinalPrice'</td><td class="captionglue"></td>
</tr>
</table>
      
<p>
<span class="margin"><span class="note">Note</span></span>
        If you added the procedure call by a copy or drag and drop operation from the
        procedure itself you will find the price in the Variable definitions table
        of the procedure call. This is what we are eventually aiming at. However,
        at this stage we want to explain the default value. So, if you want to follow
        the tutorial exactly, please delete the default value by pressing the red X above the table.
      </p>
      
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span> Verify <strong>QF-Test is configured to pause at errors</strong>
          as shown in <a href="debugonerror.html#fig_debugger_stops_at_error">Set debugger options to pause on error</a>.
        </li>
        
<li>
          
<strong>Select the 'Test-case: Second'</strong> node.
        </li>
        
<li>
          
<strong>Execute it</strong> by pressing <img src="images/play.png" style="vertical-align: text-bottom" alt="Play" title="Play" width="26" height="26" texscale=".5"> or
           [Enter].
        </li>
      
</ul>
      
<p>
        An error message shows up indicating different values for the price expected and
        the price got. What
        went wrong? Let's go hunting. Typically we use the run-log for this but there is
        another view worth to know of.
      </p>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          So <strong>click OK</strong> to close the error message.
        </li>
      
</ul>
      
<p>
        In debugging mode you will find an additional bottom right section of the
        QF-Test window showing a list of nodes with variables bound to those nodes.
      </p>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          You might want to resize the variable bindings table in case is too small to see all
          its content.
        </li>
      
</ul>
      
<a name="fig_VariableBindingsTable1"></a><a name="figure_6.6"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="images/VariableBindingsTable1.png" target="_blank"><img src="images/VariableBindingsTable1.png" alt="Variable stack" texscale=".5" width="700" height="210"></a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;6.6</a>:&nbsp;&nbsp;Variable bindings</td><td class="captionglue"></td>
</tr>
</table>
      
<p>
        The variable bindings table is very useful for debugging. It comes
        in quite handy, too, when working with procedures and trying
        to understand the way QF-Test figures out which variable value to use.
        It shows the current values of the variables.
      </p>
      
<p>
<span class="margin"><span class="note">Note</span></span>
        QF-Test always checks the variable bindings table from top to bottom.
      </p>
      
<p>
        You can see that the first rows of the table have no bindings at all. Then there
        is a binding at the level 'Globals' and another one in the fallback stack for
        the procedure 'checkFinalPrice'. The global variable is used for the
        client connection, which has been set when starting the application
        (cf <a href="startsutjava.html#tut_startsutjava">Starting the Application</a>). The other variable
        is more interesting to us - only it has the wrong value.
      </p>
      
<p>
        The default value is intended to be used for the parameter if no value has been
        defined elsewhere. This is why we added the parameter
        to the 'Parameter default values' table of the procedure node.
      </p>
      
<p>
        To do things correctly we need to pass the proper value when calling the procedure.
        Again, there are several ways to do it. One is to add a new row
        to the variable definitions table of the 'Call procedure' nodes similarly
        to the way you did at the 'Procedure' node in the last section.
      </p>
      
<p>
        If the procedure is called multiple times within the test suite, there is a better way:
      </p>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          <strong>Stop the current test execution</strong> clicking the toolbar button
          <img src="images/stop.png" style="vertical-align: text-bottom" alt="Stop" title="Stop" width="26" height="26" texscale=".5">.
        </li>
        
<li>
          
<strong>Right-click the 'Procedure' node</strong> and select<strong>
          &raquo;<em>Additional node operations</em>&laquo;-&raquo;<em>Complete          parameters of references</em>&laquo;</strong> from the popup menu.

          <a name="fig_CompleteParameters"></a><a name="figure_6.7"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="images/ProcedureUpdateParameters.png" target="_blank"><img src="images/ProcedureUpdateParameters.png" alt="Popup menu" texscale=".5" width="886" height="723"></a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;6.7</a>:&nbsp;&nbsp;Popup menu for 'Additional node operations'</td><td class="captionglue"></td>
</tr>
</table>
        
</li>
        
<li>
          In the following dialog, please check the tick mark for <strong>
          &raquo;<em>Add missing parameters to callers</em>&laquo;</strong> 
          is set and <strong>click OK</strong>.
        </li>
      
</ul>
      
<p>
        In the 'Call procedure' nodes QF-Test adds a row each for every default parameter to the variable definition table of the procedure call . It also copies
        the default value of each default parameter. In our case it is
        the parameter <code>price</code> with the value <code>$30,049.00</code>.
      </p>
      
<p>
        You might notice that the numerical value of the price variable is still wrong
        in the second case, regardless of whether it is defined implicitly as a
        default value or explicitly via a parameter. For now we want to keep that
        error to show you additional means of debugging.
      </p>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          <strong>Close the 'Updated nodes' dialog</strong> QF-Test opened to inform
          you about the updated nodes.
        </li>
      
</ul>
    
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="navifooter">
<tr>
<td class="margin"></td><td class="navicon"><a href="tutorial.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Table of contents" title="Table of contents"></a></td><td class="navicon"><a href="secondproc.html#sec_ProcedureWithVariable"><img src="../icons/linkprev.png" width="34" height="36" border="0" alt="Previous Chapter: 6.1&nbsp;Procedure using a variable" title="Previous Chapter: 6.1&nbsp;Procedure using a variable"></a></td><td class="navicon"><a href="variablestackdebugging.html#tut_variable_stack_debugging"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="Next Page: 6.3&nbsp;Advanced debugging of variable bindings" title="Next Page: 6.3&nbsp;Advanced debugging of variable bindings"></a></td><td class="navicon"><a href="variablestackdebugging.html#tut_variable_stack_debugging"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="Next Chapter: 6.3&nbsp;Advanced debugging of variable bindings" title="Next Chapter: 6.3&nbsp;Advanced debugging of variable bindings"></a></td><td class="navicon"><a href="variablestack.html#sec_variablestack"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Chapter Overview: 6&nbsp;Variables and Procedure Parameters (Java)" title="Chapter Overview: 6&nbsp;Variables and Procedure Parameters (Java)"></a></td><td class="navicon"><a href="../../tutorial_en.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF version" title="PDF version"></a></td><td class="navcopymod">Last update: 9/6/2022<br>Copyright &copy; 2002-2022 Quality First Software GmbH</td>
</tr>
</table>
</body>
</html>
