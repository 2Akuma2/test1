<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="version" content="6.0.3">
<link rel="shortcut icon" href="../icons/favicon.ico" type="image/vnd.microsoft.icon">
<title>Procedure using a variable</title>
<link href="man.css" type="text/css" rel="stylesheet">
<meta name="organisation" content="Quality First Software GmbH">
<meta name="copyright" content="(C) 2002-2022 Quality First Software GmbH">
</head>
<body bgcolor="white">
<a name="sec_ProcedureWithVariable"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviheader">
<tr>
<td class="margin"></td><td class="navicon"><a href="tutorial.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Table of contents" title="Table of contents"></a></td><td class="navicon"><img src="../icons/linkprevdis.png" width="34" height="36" alt="" border="0"></td><td class="navicon"><a href="variablebindingstable.html#tut_variable_stack"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="Next Page: 6.2&nbsp;The Variable Bindings table" title="Next Page: 6.2&nbsp;The Variable Bindings table"></a></td><td class="navicon"><a href="variablebindingstable.html#tut_variable_stack"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="Next Chapter: 6.2&nbsp;The Variable Bindings table" title="Next Chapter: 6.2&nbsp;The Variable Bindings table"></a></td><td class="navicon"><a href="variablestack.html#sec_variablestack"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Chapter Overview: 6&nbsp;Variables and Procedure Parameters (Java)" title="Chapter Overview: 6&nbsp;Variables and Procedure Parameters (Java)"></a></td><td class="navicon"><a href="../../tutorial_en.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF version" title="PDF version"></a></td><td class="homeicon"><a href="http://www.qfs.de/en/qftest/index.html" target="_parent"><img src="../icons/qftest.png" width="127" height="42" border="0" alt="QF-Test" title="QF-Test"></a></td>
</tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="naviversion">
<tr>
<td>Version 6.0.3</td>
</tr>
</table>
      
<h4 class="header-container h4">
<div>
<span class="numtitle"><a href="contents.html#toc_sec_ProcedureWithVariable">6.1</a></span>
</div>
<a href="contents.html#toc_sec_ProcedureWithVariable">Procedure using a variable</a>
</h4>
      
<p>
        Have a look at the last test-step 'Check final price' of our two test-cases.
      </p>
      
<a name="fig_params1"></a><a name="figure_6.1"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="images/AlmostIdenticalTeststeps.png" target="_blank"><img texscale=".5" src="images/AlmostIdenticalTeststeps.png" alt="Two almost identical         test-steps" width="455" height="306"></a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;6.1</a>:&nbsp;&nbsp;Two almost identical test-steps</td><td class="captionglue"></td>
</tr>
</table>
      
<p>
        They perform the same action, however, with different
        data. Even though it is only one node, it makes sense to pack it into a
        procedure. We may want to adapt the hard coded values
        <code>$$30,049.00</code> and <code>$$26,100.00</code> to a different format so that the
        check will also work when the format of the price field changes to a different
        currency. And we do not want to implement the same algorithm twice. (If you
        wonder about the two dollar signs: This is what QF-Test records for a
        dollar sign. For replay it does not matter whether you use one or two dollar signs.)
      </p>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          Select the 'Check text' node in the first test-case.
        </li>
        
<li>
          Use <strong> &raquo;<em>Operations</em>&laquo;-&raquo;<em>Pack           nodes</em>&laquo;-&raquo;<em>Sequence</em>&laquo;</strong> or use the
          [Ctrl-Shift-S] shortcut to pack it into a sequence.
        </li>
        
<li>
          Name the sequence <code>checkFinalPrice</code>. The procedure name follows the
          Java convention to run the words together and start the single
          words with capital letters. On the other hand QF-Test allows the use of
          spaces in procedure names, so you are free to name it as you like.
        </li>
        
<li>
          Press <strong>[Ctrl-Shift-P]</strong>
          for the quickest way to transform the 'Sequence' node into a procedure, as
          you learned at the end of the last chapter. You see the sequence is replaced by a
          call to the 'checkFinalPrice' procedure.
        </li>
        
<li>
          
<strong>Double click</strong> the procedure call node to jump to the procedure
          definition.
        </li>
        
<li>
          
<strong>Open</strong> the procedure node to see its content.
        </li>
      
</ul>
      
<a name="fig_procedure_hardcoded"></a><a name="figure_6.2"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="images/ProcedureWithHardcodedValue.png" target="_blank"><img src="images/ProcedureWithHardcodedValue.png" alt="Procedure with hardcoded value" texscale=".5" width="435" height="258"></a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;6.2</a>:&nbsp;&nbsp;Procedure with hard coded value</td><td class="captionglue"></td>
</tr>
</table>
      
<p>
        As expected, the check is now located in this procedure. However, it is valid for
        one price only, i.e. <code>$30,049.00</code>. Since we want to use the same procedure
        for the second test-case as well we need to make the price a variable
        and pass its value as a parameter from the test-case to the procedure.
      </p>
      
<p>
        In the next example we will start by defining a parameter for the procedure.
        Additionally, we will set a default value for the parameter.
        Default values are most useful when the parameter usually has that
        value and you do not want to specify it every time you call the procedure.
        Even though this does not hold true for the price it is a good example
        to demonstrate to you how a default parameter works and how to overwrite it
        with another value.
      </p>
      
<p>
        Let's define the parameter and add a default value:
      </p>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          <strong>Select the procedure 'checkFinalPrice'</strong>
        
</li>
        
<li>
          
<strong>Press</strong> the <img src="images/row_new.png" style="vertical-align: text-bottom" alt="Add new row" title="Add new row" width="20" height="20" texscale=".5"> "Add new row" button belonging to the table 'Parameter default values'.
        </li>
        
<li>
          
<strong>Enter <code>price</code></strong> as name for the parameter.
        </li>
        
<li>
          
<strong>Enter <code>$30,049.00</code></strong> in the value field.
        </li>
        
<li>
          
<strong>Click the 'OK'</strong> button.
        </li>
      
</ul>
      
<a name="fig_parameter_default_values_table"></a><a name="figure_6.3"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="images/ProcedureAddParameter.png" target="_blank"><img src="images/ProcedureAddParameter.png" alt="The details of the 'Procedure' node" texscale=".5" width="393" height="367"></a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;6.3</a>:&nbsp;&nbsp;The Details of the 'Procedure' node</td><td class="captionglue"></td>
</tr>
</table>
      
<p>
        The next step is to replace the value of the 'Text' attribute of the 'Check text'
        node by a reference to the variable.
      </p>
        
<p>
<span class="margin"><span class="note">Note</span></span><a name="tut_VariableSyntax" shape="rect"></a><strong>Variable syntax:</strong> When working with variables you need to bear
          in mind that in some places you need to tell QF-Test the name of the variable and in others
          you want to refer to the value of the variable. In the Name column of the
          Parameter default values table of the 'Procedure' node QF-Test expects the name of a
          variable. It is <code>price</code>, which is why you typed the word <code>price</code>.
        </p>
        
<p>
          In the 'Text' attribute of the 'Check text' node details
          QF-Test expects a character string for comparison with the text of the UI element.
          As we want to use a value stored in a variable, we have to tell QF-Test not to use
          the entered string as plain text, but to interpret it as a reference to the value
          stored in a variable.
          In QF-Test this is done by enclosing the
          variable name in <code>$()</code>. In our case the variable reference is
          <code>$(price)</code>. If you did not put the variable name into
          <code>$()</code>, QF-Test would compare the price (a number) shown in the UI element
          to the string <code>price</code>, which is obviously nonsense.
        </p>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          <strong>Select the 'Check text' node</strong> in the procedure 'checkFinalPrice'.
        </li>
        
<li>
          
<strong>Type <code>$(price)</code></strong> in the 'Text' attribute of the 'Check text' node details.
        </li>
        
<li>
          
<strong>Click the 'OK'</strong> button of the node details.
        </li>
      
</ul>
      
<a name="fig_ProcedureAddVariable"></a><a name="figure_6.4"></a>
<table class="figure" cellspacing="0">
<tr>
<td class="margin">
<table class="margin"></table>
</td><td align="center" colspan="3"><a href="images/ProcedureAddVariable.png" target="_blank"><img src="images/ProcedureAddVariable.png" alt="'Check text' node" texscale=".5" width="393" height="711"></a></td>
</tr>
<tr>
<td class="margin">
<table class="margin"></table>
</td><td class="captionglue"></td><td class="caption"><a href="figures.html#list-of-figures">Figure&nbsp;6.4</a>:&nbsp;&nbsp;'Check text' node</td><td class="captionglue"></td>
</tr>
</table>
      
<ul>
        
<li>
<span class="margin"><span class="note">Action</span></span>
          <strong><img src="images/play.png" style="vertical-align: text-bottom" alt="Play" title="Play" width="26" height="26" texscale=".5"> Run the first test-case</strong>.
        </li>
      
</ul>
      
<p>
        It should execute without an error.
      </p>
    
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="navifooter">
<tr>
<td class="margin"></td><td class="navicon"><a href="tutorial.html"><img src="../icons/linktop.png" width="34" height="36" border="0" alt="Top" title="Top"></a></td><td class="navicon"><a href="contents.html#table-of-contents"><img src="../icons/linktoc.png" width="34" height="36" border="0" alt="Table of contents" title="Table of contents"></a></td><td class="navicon"><img src="../icons/linkprevdis.png" width="34" height="36" alt="" border="0"></td><td class="navicon"><a href="variablebindingstable.html#tut_variable_stack"><img src="../icons/linkcont.png" width="34" height="36" border="0" alt="Next Page: 6.2&nbsp;The Variable Bindings table" title="Next Page: 6.2&nbsp;The Variable Bindings table"></a></td><td class="navicon"><a href="variablebindingstable.html#tut_variable_stack"><img src="../icons/linknext.png" width="34" height="36" border="0" alt="Next Chapter: 6.2&nbsp;The Variable Bindings table" title="Next Chapter: 6.2&nbsp;The Variable Bindings table"></a></td><td class="navicon"><a href="variablestack.html#sec_variablestack"><img src="../icons/linkup.png" width="34" height="36" border="0" alt="Chapter Overview: 6&nbsp;Variables and Procedure Parameters (Java)" title="Chapter Overview: 6&nbsp;Variables and Procedure Parameters (Java)"></a></td><td class="navicon"><a href="../../tutorial_en.pdf" target="_parent"><img src="../icons/linkpdf.png" width="34" height="36" border="0" alt="PDF version" title="PDF version"></a></td><td class="navcopymod">Last update: 9/6/2022<br>Copyright &copy; 2002-2022 Quality First Software GmbH</td>
</tr>
</table>
</body>
</html>
